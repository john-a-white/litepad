<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>QtFindReplaceDialog User&#39;s Guide: Examples</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">


<h1><a class="anchor" id="examples">Examples </a></h1><div class="fragment"><pre class="fragment"><span class="comment">/*</span>
<span class="comment"> * Copyright (C) 2009  Lorenzo Bettini &lt;http://www.lorenzobettini.it&gt;</span>
<span class="comment"> * See COPYING file that comes with this distribution</span>
<span class="comment"> */</span>

<span class="preprocessor">#ifndef MAINWINDOW_H</span>
<span class="preprocessor"></span><span class="preprocessor">#define MAINWINDOW_H</span>
<span class="preprocessor"></span>
<span class="preprocessor">#include &lt;QMainWindow&gt;</span>

<span class="keyword">namespace </span>Ui {
    <span class="keyword">class </span>MainWindow;
}

<span class="keyword">class </span><a class="code" href="class_find_dialog.html" title="A find dialog (it is basically the same as FindReplaceDialog without the replace...">FindDialog</a>;
<span class="keyword">class </span><a class="code" href="class_find_replace_dialog.html" title="A find/replace dialog.">FindReplaceDialog</a>;

<span class="keyword">class </span>MainWindow : <span class="keyword">public</span> QMainWindow {
    Q_OBJECT
<span class="keyword">public</span>:
    MainWindow(QWidget *parent = 0);
    ~MainWindow();

<span class="keyword">protected</span>:
    <span class="keywordtype">void</span> changeEvent(QEvent *e);
    <span class="keywordtype">void</span> closeEvent(QCloseEvent *event);

    <span class="keywordtype">void</span> createActions();

    <span class="keywordtype">void</span> writeSettings();
    <span class="keywordtype">void</span> readSettings();

<span class="keyword">private</span> slots:
    <span class="keywordtype">void</span> about();

    <span class="keywordtype">void</span> findDialog();
    <span class="keywordtype">void</span> findReplaceDialog();

<span class="keyword">private</span>:
    Ui::MainWindow *ui;

    <a class="code" href="class_find_dialog.html" title="A find dialog (it is basically the same as FindReplaceDialog without the replace...">FindDialog</a> *m_findDialog;
    <a class="code" href="class_find_replace_dialog.html" title="A find/replace dialog.">FindReplaceDialog</a> *m_findReplaceDialog;
};

<span class="preprocessor">#endif // MAINWINDOW_H</span>
</pre></div> <div class="fragment"><pre class="fragment"><span class="comment">/*</span>
<span class="comment"> * Copyright (C) 2009  Lorenzo Bettini &lt;http://www.lorenzobettini.it&gt;</span>
<span class="comment"> * See COPYING file that comes with this distribution</span>
<span class="comment"> */</span>

<span class="preprocessor">#include &lt;QtGui&gt;</span>

<span class="preprocessor">#include &quot;mainwindow.h&quot;</span>
<span class="preprocessor">#include &quot;ui_mainwindow.h&quot;</span>
<span class="preprocessor">#include &quot;finddialog.h&quot;</span>
<span class="preprocessor">#include &quot;findreplacedialog.h&quot;</span>

MainWindow::MainWindow(QWidget *parent) :
    QMainWindow(parent),
    ui(new Ui::MainWindow)
{
    <a class="code" href="class_find_replace_form.html#a9bf9e9096feff863dcd6c2a989e07d2c">ui</a>-&gt;setupUi(<span class="keyword">this</span>);

    m_findDialog = <span class="keyword">new</span> <a class="code" href="class_find_dialog.html" title="A find dialog (it is basically the same as FindReplaceDialog without the replace...">FindDialog</a>(<span class="keyword">this</span>);
    m_findDialog-&gt;setModal(<span class="keyword">false</span>);
    m_findDialog-&gt;setTextEdit(<a class="code" href="class_find_replace_form.html#a9bf9e9096feff863dcd6c2a989e07d2c">ui</a>-&gt;textEdit);

    m_findReplaceDialog = <span class="keyword">new</span> <a class="code" href="class_find_replace_dialog.html" title="A find/replace dialog.">FindReplaceDialog</a>(<span class="keyword">this</span>);
    m_findReplaceDialog-&gt;setModal(<span class="keyword">false</span>);
    m_findReplaceDialog-&gt;setTextEdit(<a class="code" href="class_find_replace_form.html#a9bf9e9096feff863dcd6c2a989e07d2c">ui</a>-&gt;textEdit);

    <a class="code" href="class_find_replace_form.html#a9bf9e9096feff863dcd6c2a989e07d2c">ui</a>-&gt;textEdit-&gt;setText(
            <span class="stringliteral">&quot;Here&apos;s some text\nYou can use it to find\n&quot;</span>
            <span class="stringliteral">&quot;with the Find/Replace dialog\n&quot;</span>
            <span class="stringliteral">&quot;and do some tests. :)&quot;</span>
            );

    createActions();

    <a class="code" href="class_find_replace_form.html#a87e0f16b427e570ede2a219b16300c2a" title="Reads the state of the form from the passed settings.">readSettings</a>();
}

MainWindow::~MainWindow()
{
    <span class="keyword">delete</span> <a class="code" href="class_find_replace_form.html#a9bf9e9096feff863dcd6c2a989e07d2c">ui</a>;
}

<span class="keywordtype">void</span> MainWindow::createActions() {
    connect(<a class="code" href="class_find_replace_form.html#a9bf9e9096feff863dcd6c2a989e07d2c">ui</a>-&gt;actionFind, SIGNAL(triggered()), <span class="keyword">this</span>, SLOT(findDialog()));
    connect(<a class="code" href="class_find_replace_form.html#a9bf9e9096feff863dcd6c2a989e07d2c">ui</a>-&gt;actionReplace, SIGNAL(triggered()), <span class="keyword">this</span>, SLOT(findReplaceDialog()));

    connect(<a class="code" href="class_find_replace_form.html#a9bf9e9096feff863dcd6c2a989e07d2c">ui</a>-&gt;actionAbout, SIGNAL(triggered()), <span class="keyword">this</span>, SLOT(about()));

    connect(<a class="code" href="class_find_replace_form.html#a9bf9e9096feff863dcd6c2a989e07d2c">ui</a>-&gt;actionAboutQt, SIGNAL(triggered()), qApp, SLOT(aboutQt()));

    connect(<a class="code" href="class_find_replace_form.html#a9bf9e9096feff863dcd6c2a989e07d2c">ui</a>-&gt;actionFindNext, SIGNAL(triggered()), m_findDialog, SLOT(<a class="code" href="class_find_replace_form.html#a4aa85cfca1753dd04c1a118ac17257d9" title="Finds the next occurrence.">findNext</a>()));
    connect(<a class="code" href="class_find_replace_form.html#a9bf9e9096feff863dcd6c2a989e07d2c">ui</a>-&gt;actionFindPrevious, SIGNAL(triggered()), m_findDialog, SLOT(<a class="code" href="class_find_replace_form.html#a98ff3bc6e591f268bb44ce02c5e70663" title="Finds the previous occurrence.">findPrev</a>()));
}

<span class="keywordtype">void</span> MainWindow::changeEvent(QEvent *e)
{
    <a class="code" href="class_find_replace_form.html#a67f57e1f82d146cd0019cd64aa147e4b">QMainWindow::changeEvent</a>(e);
    <span class="keywordflow">switch</span> (e-&gt;type()) {
    <span class="keywordflow">case</span> QEvent::LanguageChange:
        <a class="code" href="class_find_replace_form.html#a9bf9e9096feff863dcd6c2a989e07d2c">ui</a>-&gt;retranslateUi(<span class="keyword">this</span>);
        <span class="keywordflow">break</span>;
    <span class="keywordflow">default</span>:
        <span class="keywordflow">break</span>;
    }
}

<span class="keywordtype">void</span> MainWindow::about()
{
      QMessageBox::about(<span class="keyword">this</span>, tr(<span class="stringliteral">&quot;About Find/Replace Example&quot;</span>),
            tr(<span class="stringliteral">&quot;Simple application showing Find/Replace Dialog.&lt;br&gt;&lt;br&gt;&quot;</span>) +
                + <span class="stringliteral">&quot;Author: &lt;a href=\&quot;http://www.lorenzobettini.it\&quot;&gt;Lorenzo Bettini&lt;/a&gt;&lt;br&gt;&lt;br&gt;&quot;</span>);
}

<span class="keywordtype">void</span> MainWindow::findDialog() {
    m_findDialog-&gt;show();
}

<span class="keywordtype">void</span> MainWindow::findReplaceDialog() {
    m_findReplaceDialog-&gt;show();
}

<span class="keywordtype">void</span> MainWindow::closeEvent(QCloseEvent *event)
{
    <a class="code" href="class_find_replace_form.html#a8746401be4fbab54b6019a76e05e7b43" title="Writes the state of the form to the passed settings.">writeSettings</a>();
    <span class="keyword">event</span>-&gt;accept();
}

<span class="keywordtype">void</span> MainWindow::writeSettings() {
    QSettings settings(<span class="stringliteral">&quot;QtFindReplaceDialog&quot;</span>, <span class="stringliteral">&quot;QtFindReplaceDialogExample&quot;</span>);
    m_findDialog-&gt;writeSettings(settings);
    m_findReplaceDialog-&gt;writeSettings(settings);
}

<span class="keywordtype">void</span> MainWindow::readSettings() {
    QSettings settings(<span class="stringliteral">&quot;QtFindReplaceDialog&quot;</span>, <span class="stringliteral">&quot;QtFindReplaceDialogExample&quot;</span>);
    m_findDialog-&gt;readSettings(settings);
    m_findReplaceDialog-&gt;readSettings(settings);
}
</pre></div> </div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Sat Nov 28 18:30:56 2009 for QtFindReplaceDialog User's Guide by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
